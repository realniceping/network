---
marp: true
---

# ОПОИБ: Лекция 1
---
<!-- paginate: true -->
# Введение в маршрутизацию
## Маршрутизация - продвижение пакета через несколько IP сетей 
---
# Маршрутизация бывает двух видов 
>На основе **RIB** - Routing Information Base
>На основе **PBR** - Policy base routing 
---
# Таблица маршрутизации 
В таблице маршрутизации сети бывют двух видов
>CONNECTD - означает физическое присоеденение сети в вашу сеть  
>REMOTE - удаленная сеть 
---
# Характеристика сети
- По способу полуечния **static / dynamic**
- Адресс сети **(ip + mask)** 
- Исходящий интерфейс - **(тот шлюз, который смотрит на эту сеть)**
- IP next hop 
- AD = administrative distance = [0-255] - степень доверия **(чем меньше тем лучше)** | CISCO default = 0
- Metric (Только для remote сетей) - **(чем меньше тем лучше)**
---
## Пример маршрутизационной записи 
### C 10.10.10.0/24 fa1/0 
> Сеть присоеденена Connected - физически 
> 10.10.10.0 адресс
> Интерфейсом fa1/0 
### S 12.12.12.0/24 fa0/0 via 11.11.11.2 
> Static запись 
> 12.12.12.0 адресс 
> fa0/0 
> Доступна через соседа 11.11.11.2
---
# Классификации маршрутизации 
## Routing 
- Табличная / бестабличная (лавинная) 
- classless / classfull (классовая / безклассовая )
- IGP / EGP 
>> interior gateway Protocol - RIP/EIGRP/OSPF 
>> eterial gateway Protocol - BGP 
- static / dynamic - прибитая руками / изучена с использованием протокола
---
## AS - autonomus system (Автономная система)
> Глобальный идентификатор какой-нибудь крупной сети, выдается IANA
## Full view - Все сети в мире (1 млн.)
> Далеко не всякий маршрутизатор может посмотрить такую таблицу и ее обработаь. Отсюда легко прийти к выводу, что необходимо минимизировать таблицы маршрутизации  
- При дублировании двух сетей с разными масками выбор отдастся сети с наименьшей маской  
--- 
## Рассмотрим следующую ситуацию 
Допустим ваша таблица маршрутизации выглядит следующим образом 
> 10.10.1.0/24 via 10.10.6.0/24
> 10.10.2.0/24 via 11.11.11.0/24
> 10.10.3.0/24 via 10.10.2.0/24
> 10.10.4.0/24 via 10.10.1.0/24
> 10.10.5.0/24 via 10.10.3.0/24
> 10.10.6.0/24 via 10.10.4.0/24
- Пока маршрутизатор не найдет точку выхода, от будет бегать по таблице 
- Для решения этой проблемы используются аппаратные ускорители 
> CEF - cisco express forwarding  который использует 
> fib - forwarding informatin base  
---
## Траифк бывает нескольких видов 
>unicast 
>multicast 
>broadcast 
>
И для каждого из них кроме broadcast используется своя таблица маршрутизации
>И каждый маршрутизатор принимает решение исходя из информации, находящейся только в его таблице маршрутизации 
>И выбирать только лучший маршрут (best path selection)
---
## Принципы зинина 
- В каждой таблице должна быть концепция маршрута по умолчанию default route - gateway of last resort - GLR, а маршрут по умолчанию должен иметь самый низкий приоритет
- Факт знания роутером какой-либо информации не означает знания этой же информации соседом 
- Информация о маршрутизации пути из одной сети в другую не обеспечивает информацию об обратном пути  
---
## Виды сетей
- stub = host network (Тупиковая сеть)
- transit = transition network (routers) / sw3
### Swtich/router - Возможные типы трафика 
- 1-Data Plane - user data 
- 2-Control Plane - routing protocol - помощь роутеров друг другу 
- 3-Managerment Plane - telnet/ssh 