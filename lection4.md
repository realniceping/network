---
marp: true
---
# Динамическая маршрутизация / Dynamic routing
###### Начнем с самых древних вещей и пойдем куда-то в даль
---
## Представим что в компании 10 роутеров и 10 сетей под каждым
- Итого необходимо руками забить в каждый роутер 90 мартшутов 
## С проблемой очень хорошо справляется динамическая маршрутизация 
- Концепция Static routing - забивать все неизвестные сети в роутеры
- Концепция Dynamic routing  - забить в роутер все известные сети, и оправить соседу
--- 
# Протокол ODR - on demand routing (самые азы)
1) проприетарное решение cisco 
2) Почти не имеет отношение к маршуртизации. Расширение для протокола CDP
> Работает по топологии hub-and-spoke
> Не работает с петлями маршрутизации 
> Можно использовать только в небоьшой сети, где все оборудование cisco
- Каждый спок передает хабу информацию о физических инетфейсах, а хаб эту информацию сохраняет
- Хаб говорит скопам о том, что он является шлюзом последней надежды 
> Заводит весь этот цирк компнда #router ord данная на хабе
> будут прилетать маршруты o* как шлюзы последней надежды [160/1] на споки
> На хабе увидем нетранзитные сетки - o 
--- 
# Запуск движка динамической маршрутизации 
1. Комманда #router <proto> - Тип протокола  
---
# RIP - routing information protocol 
- Изобретен в 1969 году, в далекие славые времена, когда еще не было IP 
- Работает на алгоритме Беллман-Форд 
- Дизайнился под ARPANET, позже адаптирован под ipv4 и под ipv6
# Принцип работы
> UPDATE раз в 30 секунд, отсылает известный маршруты + метрику
> metric = hops - количество маршрутизаторов между оправителем и получателем - чем меньше хопов тем лучше, одинаковые маршруты будут балансироваться 
> 15 хопов возможно между отправителем и получателем
### Инкапсуляция RIP -> UDP -> IP -> ETH 
---
# Протокол RIP 
### Плюсы 
- Почти не нагружает железо
- Открытый протокол 
### Минусы 
- Медленные (конвергенция)
- Отсутствие защиты от петлей маршрутизации  
---
# Анонс
команда network - Команда классовая  
# Показать маршруты принесенные рипом 
команда #show ip rout rip [120/1]
команда #show ip protocol 
команда #router rip -> #default-information originate - Начать всем в рипах говорить, что он дефолтный роутер в сети 